<!DOCTYPE html>
<html>
  <head>
    <title>Injection</title>
  </head>
  <body>
    <h1>Injection</h1>
    <p>
      Enter the number of widgets you'd like the system to make:
      <input type="text" name="widgets" id="widgets"/>
      <button name="make" id="make">Make widgets</button>
    </p>
    <p>
      Interpreter response:
    </p>
    <p>
      <textarea
        name="output"
        id="output"
        readonly="readonly"
        style="font-family: monospace;"
        cols="80"
        rows="24"></textarea>
    </p>
    <h2>How to use</h2>
    <p>This interface dispatches requests to an interpreter.</p>
    <h3>Hacking in</h3>
    <p>Enter the following as the number of widgets:</p>
    <pre>; KILL</pre>
    <p><a href="interpreter.html">Reset</a></p>
    <p><a href="menu.html">Back to menu</a></p>
    <script type="text/javascript">
function makeWidgets() {
    var widgets = document.getElementById('widgets'),
        request = widgets.value,
        script  = document.createElement('script');

    script.type='text/javascript';
    script.src='interpreter.php?request=' + encodeURIComponent(request);
    document.body.appendChild(script);
}

function displayOutput(output) {
    document.getElementById('output').innerHTML += output;
}

document.body.onload = function () {
    document.getElementById('make').addEventListener('click', makeWidgets);
};
    </script>
  </body>
</html>
